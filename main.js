(()=>{"use strict";class t{constructor(t,e){this.length=t,this.health=t,this.sunk=!1,this.id=e}hit(){this.health--,this.isSunk()}isSunk(){0===this.health&&(this.sunk=!0)}}new t(3,0);class e{constructor(t,e){this.hit=!1,this.miss=!1,this.occupied=!1,this.x=t,this.y=e,this.shipId=null}receiveAttack(){this.hit=!0}}function o(t){const o=[];for(let t=0;t<7;t++)for(let e=0;e<7;e++)o[t]=[];for(let t=0;t<7;t++)for(let s=0;s<7;s++)o[t][s]=new e(t,s);if("player"==t){const t=document.querySelector(".gameboard");for(let e=0;e<7;e++)for(let o=0;o<7;o++){const s=document.createElement("div");s.classList.add("board-piece"),s.setAttribute("data-x",e),s.setAttribute("data-y",o),t.appendChild(s)}}else{const t=document.querySelector(".computer-gameboard");for(let e=0;e<7;e++)for(let o=0;o<7;o++){const s=document.createElement("div");s.classList.add("board-piece"),s.setAttribute("data-x",e),s.setAttribute("data-y",o),t.appendChild(s)}}return o}new e(0,0).occupied=!0;let s,c,i;document.querySelector("body").onload=("Test Player",c=o("player"),s=new class{constructor(t){this.name=t,this.playerShips=[],this.createPlayerShips()}createPlayerShips(){const e=new t(5,1),o=new t(4,2),s=new t(3,3),c=new t(3,4),i=new t(2,5);this.playerShips.push(e,o,s,c,i)}placePlayerShips(t,e){document.querySelectorAll(".board-piece").forEach((o=>{o.addEventListener("click",(()=>{const s=o.getAttribute("data-x"),c=o.getAttribute("data-y");console.log(`x: ${s}, y: ${c}`);const i=t[s][c];!function(t,e,o,s){const{length:c}=t,{id:i}=t;if(o.occupied=!0,o.shipId=i,"vertical"===s)for(let t=1;t<c;t+=1){const s=e[o.x+t][o.y];s.occupied=!0,s.shipId=i}if("horizontal"===s)for(let t=1;t<c;t+=1){const s=e[o.x][o.y+t];s.occupied=!0,s.shipId=i}}(this.playerShips[0],t,i,e),t.forEach((t=>{t.forEach((t=>{t.occupied&&document.querySelector(`[data-x="${t.x}"][data-y="${t.y}"]`).classList.add("occupied")}))})),console.log("gameboard after click",t)}))}))}}("Test Player"),s.placePlayerShips(c,"horizontal"),void(i=o("computer"))),console.log(s),console.log("player",c),console.log(i)})();