(()=>{"use strict";class e{constructor(e,t){this.length=e,this.health=e,this.sunk=!1,this.id=t}hit(){this.health--,this.isSunk()}isSunk(){0===this.health&&(this.sunk=!0)}}new e(3,0);class t{constructor(e,t){this.hit=!1,this.miss=!1,this.occupied=!1,this.x=e,this.y=t,this.shipId=null}receiveAttack(){this.hit=!0}}function o(e){const o=[];for(let e=0;e<7;e++)for(let t=0;t<7;t++)o[e]=[];for(let e=0;e<7;e++)for(let i=0;i<7;i++)o[e][i]=new t(e,i);if("player"==e){const e=document.querySelector(".gameboard");for(let t=0;t<7;t++)for(let o=0;o<7;o++){const i=document.createElement("div");i.classList.add("board-piece"),i.setAttribute("data-x",t),i.setAttribute("data-y",o),e.appendChild(i)}}else{const e=document.querySelector(".computer-gameboard");for(let t=0;t<7;t++)for(let o=0;o<7;o++){const i=document.createElement("div");i.classList.add("board-piece"),i.setAttribute("data-x",t),i.setAttribute("data-y",o),e.appendChild(i)}}return o}new t(0,0).occupied=!0;let i,c,s;document.querySelector("body").onload=("Test Player",c=o("player"),i=new class{constructor(e){this.name=e,this.playerShips=[],this.createPlayerShips()}createPlayerShips(){const t=new e(5,1),o=new e(4,2),i=new e(3,3),c=new e(3,4),s=new e(2,5);this.playerShips.push(t,o,i,c,s)}placePlayerShips(e,t){document.querySelectorAll(".board-piece").forEach((o=>{o.addEventListener("click",(()=>{const i=o.getAttribute("data-x"),c=o.getAttribute("data-y");console.log(`x: ${i}, y: ${c}`);const s=e[i][c];console.log(s),function(e,t,o,i){const{length:c}=e,{id:s}=e;if("vertical"===i){if(o.x+e.length>7||t[o.x+e.length-1][o.y].occupied||!0===o.occupied)return void alert("Ship will not fit on board");o.occupied=!0,o.shipId=s;for(let e=1;e<c;e+=1){const i=t[o.x+e][o.y];i.occupied=!0,i.shipId=s}}if("horizontal"===i){if(o.y+e.length>7||t[o.x][o.y+e.length-1].occupied||!0===o.occupied)return void alert("Ship will not fit on board");o.occupied=!0,o.shipId=s;for(let e=1;e<c;e+=1){const i=t[o.x][o.y+e];i.occupied=!0,i.shipId=s}}}(this.playerShips[0],e,s,t),function(e){e.forEach((e=>{e.forEach((e=>{e.occupied&&document.querySelector(`[data-x="${e.x}"][data-y="${e.y}"]`).classList.add("occupied")}))}))}(e),o.removeEventListener("click",(()=>{}))}))}))}}("Test Player"),i.placePlayerShips(c,"horizontal"),void(s=o("computer"))),console.log(i),console.log("player",c),console.log(s)})();