(()=>{"use strict";class t{constructor(t,e){this.length=t,this.health=t,this.sunk=!1,this.id=e}hit(){this.health--,this.isSunk()}isSunk(){0===this.health&&(this.sunk=!0)}}new t(3,0);class e{constructor(t,e){this.hit=!1,this.miss=!1,this.occupied=!1,this.x=t,this.y=e,this.shipId=null}receiveAttack(){this.hit=!0}}function o(t){const o=[];for(let t=0;t<7;t++)for(let e=0;e<7;e++)o[t]=[];for(let t=0;t<7;t++)for(let r=0;r<7;r++)o[t][r]=new e(t,r);if("player"==t){const t=document.querySelector(".gameboard");for(let e=0;e<7;e++)for(let o=0;o<7;o++){const r=document.createElement("div");r.classList.add("board-piece"),r.setAttribute("data-x",e),r.setAttribute("data-y",o),t.appendChild(r)}}else{const t=document.querySelector(".computer-gameboard");for(let e=0;e<7;e++)for(let o=0;o<7;o++){const r=document.createElement("div");r.classList.add("board-piece"),r.setAttribute("data-x",e),r.setAttribute("data-y",o),t.appendChild(r)}}return o}new e(0,0).occupied=!0;let r,i,a,s=!1,c=0;document.querySelector("body").onload=("Test Player",i=o("player"),r=new class{constructor(t){this.name=t,this.playerShips=[],this.createPlayerShips()}createPlayerShips(){const e=new t(5,1),o=new t(4,2),r=new t(3,3),i=new t(3,4),a=new t(2,5);this.playerShips.push(e,o,r,i,a)}placePlayerShips(t){let e="vertical";document.querySelector(".toggle-button").addEventListener("click",(()=>{e="vertical"===e?"horizontal":"vertical"})),document.querySelectorAll(".board-piece").forEach((o=>{o.addEventListener("click",(()=>{const r=o.getAttribute("data-x"),i=o.getAttribute("data-y");console.log(`x: ${r}, y: ${i}`);const a=t[r][i];console.log(a),function(t,e,o,r){const{length:i}=t,{id:a}=t;if("vertical"===r){if(o.x+t.length>7||e[o.x+t.length-1][o.y].occupied||!0===o.occupied)return s=!1,void alert("Ship will not fit on board");o.occupied=!0,o.shipId=a;for(let t=1;t<i;t+=1){const r=e[o.x+t][o.y];r.occupied=!0,r.shipId=a}s=!0}if("horizontal"===r){if(o.y+t.length>7||e[o.x][o.y+t.length-1].occupied||!0===o.occupied)return s=!1,void alert("Ship will not fit on board");o.occupied=!0,o.shipId=a;for(let t=1;t<i;t+=1){const r=e[o.x][o.y+t];r.occupied=!0,r.shipId=a}s=!0}}(this.playerShips[c],t,a,e),function(t){t.forEach((t=>{t.forEach((t=>{t.occupied&&document.querySelector(`[data-x="${t.x}"][data-y="${t.y}"]`).classList.add("occupied")}))}))}(t),c>=5||s&&c++})),o.addEventListener("mouseover",(t=>{t.target.classList.add("hover");const r=o.getAttribute("data-x"),i=o.getAttribute("data-y");for(let t=1;t<this.playerShips[c].length;t++)"horizontal"===e?document.querySelector(`[data-x="${r}"][data-y="${Number(i)+t}"]`).classList.add("hover"):document.querySelector(`[data-x="${Number(r)+t}"][data-y="${i}"]`).classList.add("hover")})),o.addEventListener("mouseout",(t=>{t.target.classList.remove("hover");const r=o.getAttribute("data-x"),i=o.getAttribute("data-y");for(let t=1;t<this.playerShips[c].length;t++)"horizontal"===e?document.querySelector(`[data-x="${r}"][data-y="${Number(i)+t}"]`).classList.remove("hover"):document.querySelector(`[data-x="${Number(r)+t}"][data-y="${i}"]`).classList.remove("hover")}))}))}}("Test Player"),r.placePlayerShips(i),void(a=o("computer"))),console.log(r),console.log("player",i),console.log(a)})();